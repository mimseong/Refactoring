## 2장

**2.1 리팩터링 정의**

```
리팩터링: 소프트웨어의 겉보기 동작은 그대로 유지한 채, 코드를 이해하고 수정하기 쉽도록 내부 구조를 변경하는 기법
```

- 리팩터링 동안에는 코드가 항상 정상 작동
- 중간에 멈추더라도 정상 작동해야 한다
- 리팩터링 전후 코드는 같아야 한다
- 버그도 그래도 남아있어야 한다
- 리팩터링의 목적: 코드를 이해하고 수정하기 쉽게 만들기

**2.2 두 개의 모자**

- 기능 추가 / 리팩터링 명확히 구분해 작업
- 기능 추가: 기존 코드 건드리지 않고 새 기능 추가
- 리팩터링: 기능 추가 하지 않고 코드 재구성 전념

**2.3 리팩터링 하는 이유**

- 리팩터링하면 소프트웨어 설계가 좋아진다
  - 리팩터링하지 않으면 아키텍쳐가 썩기 쉽다
  - 코드 파악 어렵 -> 설계 유지 어렵 -> 설계가 빠르게 부패한다
- 리팩터링하면 소프트웨어를 이해하기 쉬워진다
  - 기능 추가에만 집중하지 말자
  - 코드를 다룰 개발자를 배려하자
  - 코드를 이해하기 쉬우면 버그도 찾기 쉽다
- 리팩터링하면 버그를 쉽게 찾을 수 있다
  - 구조를 명확히 다듬다보면 버그들이 보인다
- 리팩터링하면 프로그래밍 속도를 높일 수 있다
  - 초기에는 빨랐지만 가면 갈 수록 기능 추가 시간 오래 걸린다
  - 버그도 자주 발생하고 해결하는데도 시간이 오래 걸린다
  - 내부 설계가 잘 된 소프트웨어는 새로운 기능을 추가할 지점과 어떻게 고칠지 쉽게 찾을 수 있다
  - 전체 중 작은 일부부만 이해해도 된다
  - 지속적인 리팩터링으로 빠르게 개발할 수 있는 상태를 더 오래 지속할 수 있다

**2.4 언제 리팩터링해야 할까?**

- 비슷한 일을 세 번째 하게 되면 리팩터링
- 준비를 위한 리팩터링: 기능을 쉽게 추가하게 만들기
- 이해를 위한 리팩터링: 코드를 이해하기 쉽게 만들기
  - 적절한 이름 변수
  - 함수 잘게 나누기
- 쓰레기 줍기 리팩터링
  - 비효율적인 부분을 발견하면 수정하자
- 계획된 리팩터링과 수시로 하는 리팩터링
  - 기능을 추가하거나 버그를 잡는 동안 리팩터링을 함께 한다
  - 다른 일을 하는 중에 리팩터링 함께 진행
```
소프트웨어 개발을 끝이 있는 작업으로 보면 안 된다
새 기능이 필요할 때마다 소프트웨어는 이를 반영하기 위해 수정된다
새로 작성해 넣는 코드보다 기존 코드의 수정량이 큰 경우가 대체로 많다
```




