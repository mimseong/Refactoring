# 6장 (197p ~ )

### 매개변수 객체 만들기

**배경**

- 데이터 항목 여러 개가 몰려다니면 하나로 모아준다
- 데이터 사이의 관계가 명확해진다
- 매개변수 수도 줄어든다
- 원소를 참조할 때 같은 이름을 사용한다
- 데이터에 공통으로 동작하는 함수를 추출해서 함수로 만들고
- 함수와 데이터를 합쳐서 클래스로 만들 수 있다

### 여러 함수를 클래스로 묶기

- 데이터와 함수를 하나의 공유 환경으로 묶는다
- 그 중 일부를 외부에 제공한다
- 클래스로 묶을 시 이점
  - 함수들이 공유하는 공통환경 명확하게 표현 가능
  - 객체 안에서 함수 호출 간결
- 205p `aReading.baseCharge`
  - `baseCharge`가 필드인지 계산된 값인지 구분할 수 없다
  - 단일 접근 원칙(Uniform Access Principle)을 따르므로 권장하는 방식
  - 객체의 속성과 메서드를 구분하지 않고 동일한 방식으로 접근

### 여러 함수를 클래스로 묶기

- 여러 함수를 변환 함수로 묶기
- 변환함수
  - 원본 데이터 입력
  - 필요한 데이터 노출
  - 출력 데이터를 필드에 넣어서 반환
- 도출 로직이 중복되는 것을 피한다
- lodash - cloneDeep()
- 변환하는 함수들을 한 곳으로 옮겼다
- 이해못함: 클라이언트가 데이터를 변경하면 심각한 문제가 있을 수 있다

### 단계 쪼개기

- 서로 다른 두 대상을 한꺼번에 다루는 코드를 발견하면 각각을 별개의 모듈로 나눈다
- 첫 번째 단계에서 생성되거나 사용하는 것들을 중간 데이터 구조로 옮긴다
- 중간 데이터 구조를 반환하는 함수를 만든다 (!!!!)
- 변수 인라인 등 정리
- 험블 객체 패턴: 단위테스트를 수행하기 쉬운 코드를 작성하는 방법
- 복잡하거나 중요한 역할을 하는 객체와 그렇지 않은 객체를 분리


